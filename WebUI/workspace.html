<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ›ä½œç©ºé—´ | Creation Workspace</title>
    <style>
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(55, 194, 212, 0.5); }
            to { box-shadow: 0 0 20px rgba(55, 194, 212, 0); }
        }

        body {
            margin: 0;
            padding: 20px;
            background: #f0f9ff;
            min-height: 100vh;
            font-family: 
                "Microsoft YaHei",
                "PingFang SC",
                "Helvetica Neue",
                Arial, 
                sans-serif;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        h1 {
            text-align: center;
            color: #1a4d5c;
            font-size: 2.5em;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .creation-form {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin: 40px 0;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            width: 100%;
        }

        .input-label {
            font-size: 1.3em;
            color: #1a4d5c;
            text-align: center;
            width: 100%;
            letter-spacing: 1px;
        }

        .xianxia-input {
            padding: 12px 25px;
            border: 2px solid #37c2d4;
            border-radius: 30px;
            font-size: 1.1em;
            background: rgba(255,255,255,0.95);
            resize: none;
            overflow-y: hidden;
            min-height: 50px;
            transition: all 0.3s ease, height 0.2s easeï¼Œ box-shadow 0.5s ease-out;
            width: 80%;
            max-width: 400px;
            margin: 0 auto;
            text-align: center;
        }

        .xianxia-input:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(55, 194, 212, 0.4);
        }

        .random-btn {
            padding: 10px 25px;
            background: linear-gradient(45deg, #00768b, #37c9d4);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            letter-spacing: 1px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.15);
        }

        .random-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .submit-section {
            margin-top: 50px;
            text-align: center;
        }

        .action-btn {
            padding: 15px 40px;
            font-size: 1.3em;
            background: linear-gradient(45deg, #00a8c5, #37d4d4);
            border: none;
            border-radius: 30px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 2px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
        }

        .ribbon {
            position: absolute;
            width: 180px;
            height: 40px;
            background: linear-gradient(135deg, #37c2d4 0%, #00768b 100%);
            transform: rotate(-45deg);
            box-shadow: 0 3px 12px rgba(0,0,0,0.15);
            animation: float 3s ease-in-out infinite;
            opacity: 0.8;
        }

        @keyframes float {
            0%, 100% { transform: rotate(-45deg) translateY(0); }
            50% { transform: rotate(-45deg) translateY(-10px); }
        }

        @media (max-width: 768px) {
            .xianxia-input {
                width: 90%;
                font-size: 1em;
                min-height: 44px;
            }
            .input-label {
                font-size: 1.1em;
            }
            .random-btn {
                padding: 8px 20px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="ribbon" style="top:15%; left:8%"></div>
    <div class="ribbon" style="top:25%; right:8%"></div>
    
    <div class="container">
        <h1>âœï¸ æ–°ä½œåˆ›ä½œå° | New Creation</h1>
        
        <form class="creation-form" onsubmit="handleSubmit(event)">
            <div class="input-group">
                <label class="input-label">ä¸»é¢˜ | Theme</label>
                <textarea 
                    class="xianxia-input" 
                    id="theme" 
                    rows="1" 
                    oninput="autoResize(this)"
                    required
                ></textarea>
                <button type="button" class="random-btn" onclick="GenRandomTheme()">éšæœºæ‘‡ä¸€æ‘‡ | Random</button>
            </div>

            <div class="input-group">
                <label class="input-label">ä½œå“å | Title</label>
                <textarea 
                    class="xianxia-input" 
                    id="noveltitle" 
                    rows="1" 
                    oninput="autoResize(this)"
                    required
                ></textarea>
                <button type="button" class="random-btn" onclick="SummarizeTheTheme()">æ€»ç»“ç”Ÿæˆ | Summarize</button>
            </div>

            <div class="input-group">
                <label class="input-label">ä¸»è§’å | Character's name</label>
                <textarea 
                    class="xianxia-input" 
                    id="protagonist" 
                    rows="1" 
                    oninput="autoResize(this)"
                    required
                ></textarea>
                <button type="button" class="random-btn" onclick="GenRandomCharatorName()">éšæœºæ‘‡ä¸€æ‘‡ | Random</button>
            </div>

            <div class="input-group">
                <label class="input-label">ä¸»è§’èƒŒæ™¯ | Character's background</label>
                <textarea 
                    class="xianxia-input" 
                    id="background" 
                    rows="5" 
                    oninput="autoResize(this)"
                    required
                    style="min-height: 120px"
                ></textarea>
                <button type="button" class="random-btn" onclick="GenRandomCharatorBackground()">éšæœºæ‘‡ä¸€æ‘‡ | Random</button>
            </div>

            <div class="input-group">
                <label class="input-label">ç« èŠ‚æ•°é‡é¢„è®¾ | Preset chapter count</label>
                <input type="number" class="xianxia-input" id="chapters" 
                       min="1" max="100" step="1" required
                       oninput="validateInteger(this)">
                <div class="input-hint">ï¼ˆéœ€ä¸ºæ•´æ•°ï¼‰</div>
            </div>

            <div class="submit-section">
                <button type="submit" class="action-btn" onclick="submitNovelData()">ğŸš€ å¼€å§‹åˆ›ä½œ | Start creating</button>
            </div>
        </form>
    </div>

    <script>
        function validateInteger(input) {
            input.value = input.value.replace(/[^0-9]/g, '');
        }

        function handleSubmit(event) {
            event.preventDefault();
            // æäº¤é€»è¾‘
        }

        function GenRandomTheme() {
            const themes = [
                "é€†å¤©æ”¹å‘½ï¼šç ´ç¢çµæ ¹çš„é‡ä¿®ä¹‹è·¯", 
                "å®¿å‘½è½®å›ï¼šä¹ä¸–æƒ…åŠ«ç»ˆæˆç©º",
                "å¤©ç…å­¤æ˜Ÿï¼šå„è¿å‘½æ ¼çš„æ•‘èµ",
                "å‘½ç›˜é€†è½¬ï¼šç¯¡æ”¹å¤©æœºçš„ä»£ä»·",
                "å› æœè½®å›ï¼šå‰ä¸–å­½å€ºä»Šç”Ÿå¿",
                "å‘½æ˜Ÿé™¨è½ï¼šç´«å¾®å¸æ˜Ÿçš„é»„æ˜",

                "å®—é—¨å´›èµ·ï¼šæœ«æµé—¨æ´¾çš„ç™»å¤©è·¯",
                "é•¿è€å¤ºèˆï¼šå¸ˆå¾’èº«ä»½çš„æƒŠå¤©åè½¬",
                "ç¦åœ°å›é€ƒï¼šè¢«è¿½æ€çš„å®—é—¨å¤©æ‰",
                "æŒé—¨è¯•ç‚¼ï¼šäº”è„‰äº‰é”‹çš„ç»§æ‰¿ä¹‹æˆ˜",
                "æŠ¤å±±å¤§é˜µï¼šåƒå¹´å®—é—¨çš„æœ«æ—¥å±æœº",
                "å®—é—¨ç§˜å²ï¼šåœ°å®«æ·±å¤„çš„ä¸Šå¤æ®‹é­‚",

                "å¤å¢“æ¢ç§˜ï¼šå¤±è½çš„ä»™äººé—å†¢",
                "ç§˜å¢ƒå´©å¡Œï¼šæ—¶ç©ºä¹±æµä¸­çš„ç”Ÿå­˜",
                "çµç•Œè£‚ç¼ï¼šå¼‚åŸŸç”Ÿç‰©çš„å…¥ä¾µ",
                "ä¸Šå¤æˆ˜åœºï¼šç¥å…µåˆ©å™¨çš„è§‰é†’",
                "æµ®ç©ºä»™å²›ï¼šç§»åŠ¨ç§˜å¢ƒçš„è¿½æ•",
                "é»„æ³‰å†¥åºœï¼šé˜´é˜³ä¸¤ç•Œçš„é€šé“",

                "å‰‘éª¨é‡å¡‘ï¼šäººå‰‘åˆä¸€çš„è‡³é«˜å¢ƒç•Œ",
                "æ¯’è›ŠåŒä¿®ï¼šä»¥èº«é¥²è›Šçš„ç–¯ç‹‚é“é€”",
                "é­‚ä½“åŒä¿®ï¼šå…ƒç¥å‡ºçªçš„è‡´å‘½é£é™©",
                "å¦–ä¸¹å…¥ä½“ï¼šåŠäººåŠå¦–çš„ç”Ÿå­˜æŒ£æ‰",
                "å¤å·«ç§˜æœ¯ï¼šè¡€è„‰è¯…å’’çš„ä¼ æ‰¿ä¹‹è°œ",
                "é¬¼é“æƒŠå˜ï¼šæ“æ§é˜´å…µçš„ç¦å¿Œä¹‹æœ¯",

                "æœ¬å‘½æ³•å™¨ï¼šå™¨çµè§‰é†’çš„åå™¬å±æœº",
                "ä¸Šå¤ç¥å…µï¼šè®¤ä¸»æ¡ä»¶çš„æ®‹é…·è€ƒéªŒ",
                "çµå® è¿›åŒ–ï¼šè¿”ç¥–è¡€è„‰çš„æ„å¤–è§‰é†’",
                "ä»™å™¨æ®‹ç‰‡ï¼šé‡é“¸ç¥å™¨çš„å¤©åœ°å¼‚è±¡",
                "ç¬¦é˜µé€šå¤©ï¼šç¬æ¯ä¸‡å˜çš„æ³•åˆ™åšå¼ˆ",
                "ä¸¹é¼ä¹¾å¤ï¼šä¹è½¬é‡‘ä¸¹çš„å¤ºå¤©é€ åŒ–",

                "çš‡æœæ›´è¿­ï¼šæ°”è¿é¾™è„‰çš„äº‰å¤ºæˆ˜",
                "æ­£é‚ªå¤§æˆ˜ï¼šç«‹åœºå¯¹è°ƒçš„é˜´è°‹æ¼©æ¶¡",
                "é—¨æ´¾åˆå¹¶ï¼šæ–‡åŒ–å†²çªçš„æ•´åˆä¹‹ç—›",
                "èµ„æºäº‰å¤ºï¼šçµè„‰çŸ¿åŒºçš„è¡€è…¥å®æ€",
                "ä»™ç›Ÿè¯•ç‚¼ï¼šæ–°ç§€è¾ˆå‡ºçš„ä¹±ä¸–ä¹‹äº‰",
                "éšä¸–å®¶æ—ï¼šå¤è€è¡€è„‰çš„ç°ä¸–çº·äº‰",

                "æ—¶é—´å¾ªç¯ï¼šç™¾æ—¥é£å‡çš„æ­»äº¡è½®å›",
                "å¹³è¡Œä¸–ç•Œï¼šé•œåƒèº«ä»½çš„ç”Ÿæ­»å¯¹å†³",
                "è®°å¿†å°å°ï¼šè¯†æµ·æ·±å¤„çš„ç¦å¿Œç¢ç‰‡",
                "å¤©é“æ¼æ´ï¼šè§„åˆ™ä¹‹å¤–çš„ä¿®ç‚¼æ·å¾„",
                "å¿ƒé­”è¯•ç‚¼ï¼šè™šå®äº¤ç»‡çš„å¹»å¢ƒè¿·å®«",
                "åŠŸå¾·è¯é“ï¼šå› æœä¸šåŠ›çš„é‡åŒ–å¤©å¹³"
            ];
            document.getElementById('theme').value = themes[Math.floor(Math.random()*themes.length)];
        }

        function GenRandomCharatorName() {
            const surnames = ["æ—", "è§", "å¶", "è‹", "æ²ˆ", "æ…•", "å®", "æ¥š", "æ±Ÿ", "æ´›", "ç™½", "å¢¨", 
                              "äº‘", "é£", "å§œ", "æ¸©", "é¡¾", "å¤", "ç§¦", "æŸ³", "éŸ©", "æ±Ÿ", "è´º", "è£´", 
                              "é¢œ", "é™†", "æ—¶", "ç®€", "è®¸"];
            const names = ["å‡¡", "ç‚", "å°˜", "ç‘¶", "é£","äº‘","é›¨","é›·","ç”µ","éœœ","é›ª","å†°","å¯’","å†·",
                           "æ¸…","å¹½","é™","ç©º","è™š","æ— ","å°˜","çƒŸ","é›¾","éœ","è™¹","æ˜Ÿ","æœˆ","å¤œ","æ™“",
                           "æ™¨","æ˜","æš®","æœ","å¤•","é˜³","é˜´","æ˜","æš—","å…‰","å½±","å°˜","æ²™","çŸ³","æœ¨",
                           "æ—","å±±","å·","æ²³","æµ·","æ¹–","æ±Ÿ","æºª","æ³‰","æ½­","æ³¢","æ¶›","æµª","æ½®","æ²™",
                           "å²¸","æ´²","å²›","å²©","å´–","å³°","å²­","å³¦","å²«","å³ª","å³¡","è°·","å£‘","æ¶§","æºª",
                           "ç€‘","æ½­","æ± ","æ²¼","æ³½","æ¸Š", "é£äº‘","å­¤","é€¸å°˜","æµé£","å¯’éœœ","æ¸…æ­Œ","ç–å½±",
                           "æ˜æœˆ",
                           "å‰‘é¸£","å¹½ç¯","é•¿ç”Ÿ","æ— åŒ","æ¸…æ¬¢","å¯’æ±Ÿ","æ˜Ÿæ²³","é’å†¥","è‹èŒ«","ç™½é¹¤","é’è¡«",
                           "ç´ è¡£","äº‘æ·±","å°˜åŸƒ","è½è‹±","é£é›ª","å¯’æ¢…","å†·æœˆ","é’ä¸","ç™½é¦–","å­¤é¸¿","æ®‹é˜³",
                           "çƒŸé›¨","æ¸…ç§‹","å¯’çƒŸ","å†·éœ²","é£èŠ±","æµå¹´","æ¸…æ¢¦","å¹½æ¢¦","å¯’æ½­","å†·æ³‰","é’å³°",
                           "ç™½çŸ³","å­¤æ¾","å¯’æ¾","é£ç€‘","æµæ³‰","æ¸…æºª","å¹½è°·","å¯’æ—","å†·å±±","é’å´–","ç™½äº‘",
                           "å­¤èˆŸ","å¯’èˆŸ","é£é›","æµè¤","æ¸…æ³¢","å¹½æ½­","å¯’æ³¢","å†·æ³¢","é’æ³¢","ç™½äº‘","å­¤é¹¤",
                           "å¯’é¹¤","é£é¸¿","æµäº‘","æ¸…é£","å¹½å…°","å¯’å…°","å†·å…°","é’å…°","ç™½å…°","å­¤æ˜Ÿ","å¯’æ˜Ÿ",
                           "é£æ˜Ÿ","æµæ˜Ÿ","æ¸…å¤œ","å¹½å¤œ","å¯’å¤œ","å†·å¤œ","é’å¤œ","ç™½å¤©","å­¤æœˆ","å¯’æœˆ","é£æœˆ",
                           "æµæœˆ","æ¸…æœˆ","å¹½æœˆ","å¯’å…‰","å†·å…‰","é’å…‰","ç™½å…‰","å­¤å…‰","å¯’çƒŸ","é£çƒŸ","æµçƒŸ",
                           "æ¸…çƒŸ","å¹½çƒŸ","å¯’é›¾","å†·é›¾","é’é›¾","ç™½é›¾","å­¤é›¾","å¯’æ½­","é£æ½­","æµæ½­","æ¸…æ½­",
                           "å¹½æ½­","å¯’æ³‰","å†·æ³‰","é’æ³‰","ç™½æ³‰","å­¤æ³‰","å¯’æ¾","é£æ¾","æµæ¾","æ¸…æ¾","å¹½æ¾",
                           "å¯’ç«¹","å†·ç«¹","é’ç«¹","ç™½ç«¹","å­¤ç«¹","å¯’æ¢…","é£æ¢…","æµæ¢…","æ¸…æ¢…","å¹½æ¢…","å¯’æŸ³",
                           "å†·æŸ³","é’æŸ³","ç™½æŸ³","å­¤æŸ³","å¯’æ«","é£æ«","æµæ«","æ¸…æ«","å¹½æ«","å¯’èŠ","å†·èŠ",
                           "é’èŠ","ç™½èŠ","å­¤èŠ","å¯’è²","é£è²","æµè²","æ¸…è²","å¹½è²","å¯’è·","å†·è·","é’è·",
                           "ç™½è·","å­¤è·","å¯’èŠ","é£èŠ","æµèŠ","æ¸…èŠ","å¹½èŠ","å¯’èŠ","å†·èŠ","é’èŠ","ç™½èŠ",
                           "å­¤èŠ"];
            document.getElementById('protagonist').value = 
                surnames[Math.floor(Math.random()*surnames.length)] +
                names[Math.floor(Math.random()*names.length)];
        }

        function GenRandomCharatorBackground() {
            const backgrounds = [
                "èº«è´Ÿäº”è¡Œæ‚çµæ ¹çš„åºŸæŸ´å°‘å¹´ï¼Œåœ¨å®—é—¨åå±±æ‹¾æŸ´æ—¶è¯¯è§¦ä¸Šå¤ç¦åˆ¶ï¼Œè·å¾—å·²é£å‡å¤§èƒ½ç•™ä¸‹çš„ã€Šæ··å…ƒé€ åŒ–è¯€ã€‹ã€‚æ¯çªç ´ä¸€å±‚åŠŸæ³•ï¼Œä½“å†…å°±ä¼šå¤šå‡ºä¸€é¢—é‡‘ä¸¹ï¼Œä½†éœ€æ—¶åˆ»æé˜²è¢«å®—é—¨å‘ç°ç§˜å¯†",
                "å¤©ç”Ÿç»è„‰æ— æ³•ä¿®ç‚¼çš„ä¸–å®¶åº¶å­ï¼Œæ„å¤–è§‰é†’ä½“å†…ä¸Šå¤å·«æ—è¡€è„‰ï¼Œå¯é€šè¿‡åå™¬å¦–å…½ç²¾è¡€è·å¾—å…¶å¤©èµ‹ç¥é€šã€‚æ¯æ¬¡ä½¿ç”¨èƒ½åŠ›éƒ½ä¼šä¾µèš€ç¥æ™ºï¼Œéœ€åœ¨åŠ›é‡ä¸ç†æ™ºé—´ä¿æŒå¹³è¡¡",
                "è¢«é­”ä¿®æ³å»å½“è¯å¥´çš„å†œå®¶å°‘å¹´ï¼Œåœ¨è¯•è¯è¿‡ç¨‹ä¸­æ„å¤–æˆå°±ç™¾æ¯’ä¸ä¾µä¹‹ä½“ã€‚ä½“å†…ç§¯æ”’çš„ä¸‡åƒæ¯’ç´ å¯å‡ä¸ºä¹æ ¹æœ¬å‘½æ¯’é’ˆï¼Œä½†æ¯æœˆåäº”éœ€æ‰¿å—ä¸‡èšå™¬å¿ƒä¹‹è‹¦",
                "åŒç›®å¤±æ˜çš„èŒ¶é¦†è¯´ä¹¦äººï¼Œå®åˆ™èº«æ€€å¤©æœºç³è¡€è„‰ã€‚æ¯è¯´å‡ºä¸€æ®µç§˜é—»å°±ä¼šæŸè€—åå¹´å¯¿å…ƒï¼Œä¸ºç»­å‘½ä¸å¾—ä¸è¸ä¸Šå¯»æ‰¾ä¸Šå¤ç»­å‘½ç¯çš„å¾é€”",
                "è¢«å½“ä½œç‚‰é¼åŸ¹å…»çš„å®—é—¨ä¾å¥³ï¼Œåœ¨åŒä¿®å¤§å…¸å‰å¤•è§‰é†’å‰ä¸–è®°å¿†ã€‚è¯†æµ·ä¸­æµ®ç°ä¸ƒåäºŒåº§å‰‘ç¢‘ï¼Œæ¯å‚é€ä¸€åº§ä¾¿å¯å¬å”¤ä¸Šå¤å‰‘çµæŠ¤ä½“ï¼Œä½†æ¯æ¬¡å¬å”¤éƒ½ä¼šé—å¿˜ä¸€æ®µé‡è¦è®°å¿†",

                "ä¸‰ç™¾å¹´å‰è¢«ç­é—¨çš„è¯ç‹è°·å”¯ä¸€ä¼ äººï¼Œå·¦æ‰‹æŒå¿ƒçƒ™å°ç€å®—é—¨ç§˜åº“çš„æ˜Ÿå›¾ã€‚ä¸ºå¤ä»‡æš—ä¸­åŸ¹è‚²å™¬çµè›Šï¼Œå´å‘ç°è‡ªå·±ç«Ÿæ˜¯è›Šç‹å®¹å™¨",
                "å®¶æ—å› æ€€æœ‰ä¸Šå¤é¾™é›€è¡€è„‰é­å± æˆ®çš„é—å­¤ï¼Œä½“å†…å°å°ç€æš´èµ°çš„ç¥–è¡€ã€‚æ¯æœˆæœˆåœ†ä¹‹å¤œä¼šåŒ–ä¸ºåŠå¦–å½¢æ€ï¼Œå¿…é¡»åœ¨é»æ˜å‰é¥®ä¸‹è‡³äº²ä¹‹è¡€æ‰èƒ½æ¢å¤",
                "å¸ˆå°Šä¸ºæŠ¤å…¶æ€§å‘½è‡ªçˆ†å…ƒå©´çš„å‰‘é“å¤©æ‰ï¼Œç»§æ‰¿äº†ä¸€æŸ„å¸ƒæ»¡è£‚ç—•çš„æœ¬å‘½çµå‰‘ã€‚æ¯ä¿®è¡¥ä¸€é“è£‚ç—•å°±èƒ½è§£é”éƒ¨åˆ†è®°å¿†ç¢ç‰‡ï¼Œå´å‘ç°ç­é—¨æƒ¨æ¡ˆä¸è‡ªå·±èº«ä¸–å¯†åˆ‡ç›¸å…³",
                "çš‡å®¤æ–—äº‰ä¸­å¤±è´¥çš„è´¨å­ï¼Œèº«ä¸­ä¹é‡å°çµé”æµæ”¾è›®è’ã€‚åœ¨æŒ–çŸ¿æ—¶å‘ç°è¿œå¤å·«æ—ç¥­å›ï¼Œä»¥å¿ƒå¤´è¡€å”¤é†’æ²‰ç¡çš„åäºŒç¥–å·«å‚€å„¡ï¼Œä»£ä»·æ˜¯é€æ¸å¤±å»äººç±»æƒ…æ„Ÿ",

                "è½®å›ä¹ä¸–çš„æ¸¡åŠ«æœŸå¤§èƒ½ï¼Œæ¯ä¸€ä¸–éƒ½å› æƒ…åŠ«é™¨è½ã€‚è¿™ä¸€ä¸–å†³å®šä¿®æ— æƒ…é“ï¼Œå´å‘ç°å‘½å®šä¹‹äººç«Ÿæ˜¯è‡ªå·±çš„æœ¬å‘½å‰‘çµ",
                "ä¸Šå¤ç¥é­”æˆ˜åœºé—ç•™çš„å‰‘é­‚è½¬ä¸–ï¼Œæ¯æ™šå…¥æ¢¦éƒ½ä¼šç»å†ä¸åŒä¿®å£«çš„æ­»äº¡ç¬é—´ã€‚å¸æ”¶çš„æ­»äº¡æ„Ÿæ‚Ÿå¯åŒ–ä¸ºå‰‘æ„ï¼Œä½†ä¼šé€æ¸æ··æ·†è‡ªæˆ‘è®¤çŸ¥",
                "ä»™ç•Œç‘¶æ± ç ´ç¢åå å…¥å‡¡é—´çš„è²å­åŒ–èº«ï¼Œæ¯æœˆéœ€å¸æ”¶æœˆåç»´æŒäººå½¢ã€‚ä¸¹ç”°å†…å­•è‚²ç€å¯é‡å¡‘ä»™ç•Œçš„æ··æ²Œé’è²ï¼Œå¼•æ¥å„æ–¹åŠ¿åŠ›è§Šè§",
                "è¢«å°å°åœ¨å¤ç”»ä¸­çš„ç”»çµï¼Œå€Ÿå°¸è¿˜é­‚æˆä¸ºæ²¡è½ä¸–å®¶å…¬å­ã€‚å¿…é¡»æ”¶é›†åäºŒå¹…æ•£è½äººé—´çš„ã€Šå±±æ²³ç¤¾ç¨·å›¾ã€‹æ®‹å·ï¼Œå¦åˆ™å°†é‡æ–°è¢«å¸å…¥ç”»ä¸­ä¸–ç•Œ",

                "å¤©ç”Ÿé“éª¨å´æ— æ³•å‚¨å­˜çµåŠ›çš„æ€ªæ‰ï¼Œæ„å¤–è·å¾—å¯åå™¬ä»–äººä¿®ä¸ºçš„é¥•é¤®ç¬¦ã€‚æ¯æ¬¡ä½¿ç”¨éƒ½ä¼šéšæœºé—å¿˜ä¸€é—¨åŠŸæ³•ï¼Œå¿…é¡»ä¸æ–­æ å¤ºæ‰èƒ½ç»´æŒä¿®ä¸º",
                "é˜´é˜³åŒé­‚å…±ç”Ÿçš„å¤©å¼ƒä¹‹äººï¼Œç™½æ—¥ä¸ºåŒ»ä¿®æ‚¬å£¶æµä¸–ï¼Œå¤œæ™šåŒ–èº«æ¯’å°Šæ…åŠ¨é£äº‘ã€‚ä¸¤é­‚è®°å¿†äº’ä¸ç›¸é€šï¼Œå„è‡ªåŸ¹å…»åŠ¿åŠ›æœ€ç»ˆèµ°å‘å¯¹ç«‹",
                "å¿ƒè„è¢«æ›¿æ¢æˆä¸Šå¤é­”æ ¸çš„å®—é—¨å¼ƒå¾’ï¼Œä¿®ç‚¼é€Ÿåº¦æ˜¯å¸¸äººåå€å´ä¼šå¼•å‘å¿ƒé­”æš´èµ°ã€‚é¢é—´ç”Ÿå‡ºçš„ç¬¬ä¸‰åªçœ¼èƒ½çœ‹ç ´ä¸‡ç‰©å¼±ç‚¹ï¼Œä½†æ¯æ¬¡ä½¿ç”¨éƒ½ä¼šç¼©çŸ­å¯¿å‘½",
                "ç»è„‰é€†è½¬çš„æ­¦é“å¥‡æ‰ï¼Œç‹¬åˆ›å€’è¡Œé€†æ–½çš„ã€Šé€†ä»™è¯€ã€‹ã€‚æ¯æ¬¡çªç ´éƒ½è¦ç»å†ç»è„‰å¯¸æ–­ä¹‹ç—›ï¼Œå´èƒ½ä»¥ç­‘åŸºä¿®ä¸ºç¡¬æ’¼é‡‘ä¸¹ä¿®å£«",

                "ä¸ä¸Šå¤å‡¶å…½ç­¾è®¢å…±ç”Ÿå¥‘çº¦çš„çŒæˆ·ä¹‹å­ï¼Œå·¦è‡‚å…½åŒ–åèƒ½æ’•ç¢é‡‘ä¸¹ä¿®å£«ã€‚éšç€ä¿®ä¸ºæå‡ï¼Œæ¯æœˆå¿…é¡»æœ‰ä¸‰å¤©å®Œå…¨å…½åŒ–ä¿æŒå¹³è¡¡",
                "è¢«é€‰ä¸ºæ²³ä¼¯æ–°å¨˜çš„æ¸”å®¶å°‘å¥³ï¼Œæˆå©šå¤œåå°†æ²³ä¼¯ç‚¼æˆæœ¬å‘½é¬¼ä»†ã€‚çœ‰é—´æµ®ç°çš„ç¢§æ°´å°å¯æ“æ§å¤©ä¸‹æ°´åŸŸï¼Œä½†æ¯åˆ°é›¨å­£éƒ½ä¼šåŒ–ä½œçŸ³åƒä¸ƒæ—¥",
                "ç”Ÿè¾°å…«å­—ä¸é™¨è½ä»™å¸å®Œå…¨ç›¸åŒçš„æ”¾ç‰›å¨ƒï¼Œè¯†æµ·ä¸­æ²‰ç¡ç€ä¸€ç¼•å¸é­‚ã€‚æ¯å½“é‡åˆ°ç”Ÿå‘½å±é™©å°±ä¼šè§‰é†’éƒ¨åˆ†å¸å¨ï¼Œå´è¦æ‰¿å—å¤©é“åå™¬"
            ];
            document.getElementById('background').value = backgrounds[Math.floor(Math.random()*backgrounds.length)];
        }

        function SummarizeTheTheme() {
            const themeInput = document.getElementById('theme');
            const titleInput = document.getElementById('noveltitle');

            if (!themeInput.value.trim()) {
                alert('è¯·å…ˆè¾“å…¥æˆ–ç”Ÿæˆä¸»é¢˜');
                themeInput.focus();
                return;
            }
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            titleInput.placeholder = "Generating...";
            const originalText = titleInput.value;
            titleInput.value = "";

            fetch('/api/summarize-novel-theme', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ 
                    theme: themeInput.value
                })
            })
            .then(response => {
                if (!response.ok) throw new Error(`HTTPé”™è¯¯ ${response.status}`);
                return response.json();
            })
            .then(data => {
                if (data.success) {
                    titleInput.value = data.generatedTitle;
                    titleInput.style.animation = 'glow 1s ease-out';
                } else {
                    titleInput.value = originalText;
                    alert(`failed to gen title: ${data.error || 'unknown error'}`);
                }
            })
            .catch(error => {
                console.error('exception: ', error);
                titleInput.value = originalText;
                alert('connection error');
            })
            .finally(() => {
                titleInput.placeholder = "";
            });
        }

        function submitNovelData() {
            // æ”¶é›†æ‰€æœ‰è¾“å…¥æ•°æ®
            const novelData = {
                theme: document.getElementById('theme').value,
                title: document.getElementById('noveltitle').value,
                protagonist: document.getElementById('protagonist').value,
                background: document.getElementById('background').value,
                chapters: document.getElementById('chapters').value
            };

            fetch('/api/generate-novel-setting', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(novelData)
            })
            .then(response => response.json())
            .then(data => {
                if(data.success) {
                    alert('data written in');
                    console.log('ç”Ÿæˆç»“æœ:', data.filepath);
                } else {
                    alert('error: ' + data.error);
                }
            })
            .catch(error => {
                console.error('exception:', error);
                alert('exception occurred');
            });
            window.location.href = '/creation_content?type=new';
        }
    </script>
</body>
</html>
